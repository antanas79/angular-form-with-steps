(window.webpackJsonp=window.webpackJsonp||[]).push([[5],{r6jk:function(e,t,n){"use strict";n.r(t),n.d(t,"LoanFormModule",function(){return Q});var o=n("ofXK"),r=n("FpXt"),s=n("tyNb"),i=n("B/XX");class a{constructor(e={}){this.value=e.value,this.key=e.key||"",this.placeholder=e.placeholder||"",this.label=e.label||"",this.required=!!e.required,this.order=void 0===e.order?1:e.order,this.controlType=e.controlType||"",this.type=e.type||"",this.options=e.options||[]}}class c extends a{constructor(){super(...arguments),this.controlType="dropdown"}}class l{constructor(e={}){var t;this.label=null!==(t=e.label)&&void 0!==t?t:"",this.key=e.key,this.required=!!e.required,this.order=void 0===e.order?1:e.order,this.isEditable=e.isEditable,this.questions=e.questions,this.text=e.text}}class u extends a{constructor(){super(...arguments),this.controlType="textbox"}}var p=n("LRne"),b=n("fXoL");let m=(()=>{class e{getLoanStepsWithQuestions(){const e=[new l({key:1,required:!0,order:0,isEditable:!0,label:"Intro",text:'Press "next" to start applying for a loan.'}),new l({key:1,required:!0,order:0,isEditable:!0,label:"Income",questions:[new u({key:"income",label:"Income",placeholder:"Monthy Income After Taxes (EUR)",required:!0,type:"number"})]}),new l({key:2,required:!0,order:1,isEditable:!0,label:"Reason",questions:[new c({key:"reason",label:"Loan reason",placeholder:"Loan reason",required:!0,options:[{key:"car",value:"Buy car"},{key:"phone",value:"Buy phone"},{key:"home",value:"Home enhancements"},{key:"other",value:"Other"}]})]}),new l({key:3,required:!0,order:1,isEditable:!0,label:"Contact",questions:[new c({key:"contact",label:"Preferred contact method",placeholder:"Preferred contact method",required:!0,options:[{key:"call",value:"Call"},{key:"sms",value:"SMS"},{key:"email",value:"Email"}]})]}),new l({key:4,required:!0,order:3,isEditable:!0,label:"Amount",questions:[new u({key:"amount",label:"Loan amount",placeholder:"Loan Amount (EUR)",required:!0,options:[{key:"solid",value:"Solid"},{key:"great",value:"Great"},{key:"good",value:"Good"},{key:"unproven",value:"Unproven"}],order:3})]}),new l({key:5,required:!1,order:5,label:"Summary",isEditable:!0,text:"Please review entered information below before submitting the form."})];return Object(p.a)(e.sort((e,t)=>e.order-t.order))}}return e.\u0275fac=function(t){return new(t||e)},e.\u0275prov=b.Ib({token:e,factory:e.\u0275fac}),e})();var d=n("3Pt+");let f=(()=>{class e{constructor(e){this._formBuilder=e}toFormStepsArray(e){var t;let n=this._formBuilder.array([]);for(let o=0;o<(null==e?void 0:e.length);o++){let r={};for(let n=0;n<(null===(t=e[o].questions)||void 0===t?void 0:t.length);n++)r[e[o].questions[n].key]=e[o].questions[n].required?new d.d(e[o].questions[n].value||"",d.p.required):new d.d(e[o].questions[n].value||"");n.push(new d.f(r))}return n}}return e.\u0275fac=function(t){return new(t||e)(b.Wb(d.c))},e.\u0275prov=b.Ib({token:e,factory:e.\u0275fac}),e})();var h=n("xHqg");function g(e,t){if(1&e&&(b.Qb(0),b.qc(1),b.Sb(2,"span",4),b.qc(3),b.Rb(),b.Pb()),2&e){const e=t.$implicit,n=b.bc(2).index,o=b.bc(2);b.Bb(1),b.sc(" ",e.placeholder," : "),b.Bb(2),b.rc(o.payLoad[n][e.key])}}function y(e,t){if(1&e&&(b.Sb(0,"div",3),b.pc(1,g,4,2,"ng-container",1),b.Nb(2,"br"),b.Rb()),2&e){const e=b.bc().$implicit;b.Bb(1),b.gc("ngForOf",e.questions)}}function v(e,t){if(1&e&&(b.Qb(0),b.pc(1,y,3,1,"div",2),b.Pb()),2&e){const e=t.$implicit;b.Bb(1),b.gc("ngIf",(null==e.questions?null:e.questions.length)>0)}}function q(e,t){if(1&e&&(b.Sb(0,"div"),b.pc(1,v,2,1,"ng-container",1),b.Rb()),2&e){const e=b.bc();b.Bb(1),b.gc("ngForOf",e.steps)}}let k=(()=>{class e{constructor(){this.payLoad={},this.steps=[]}ngOnInit(){}handleChanges(e){console.log(e)}}return e.\u0275fac=function(t){return new(t||e)},e.\u0275cmp=b.Gb({type:e,selectors:[["form-summary"]],inputs:{payLoad:"payLoad",steps:"steps"},decls:2,vars:1,consts:[[4,"ngIf"],[4,"ngFor","ngForOf"],["class","mb-3",4,"ngIf"],[1,"mb-3"],[1,"text-uppercase"]],template:function(e,t){1&e&&(b.Nb(0,"br"),b.pc(1,q,2,1,"div",0)),2&e&&(b.Bb(1),b.gc("ngIf",t.steps))},directives:[o.k,o.j],styles:[""]}),e})();var S=n("kmnG"),w=n("qFsG"),B=n("d3UM"),F=n("FKr1"),I=n("bTqV");function C(e,t){if(1&e&&b.qc(0),2&e){const e=b.bc().$implicit;b.rc(e.label)}}function R(e,t){if(1&e&&(b.Sb(0,"div"),b.qc(1),b.Rb()),2&e){const e=b.bc().$implicit;b.Bb(1),b.rc(e.text)}}function L(e,t){if(1&e&&b.Nb(0,"form-summary",10),2&e){const e=b.bc(2);b.gc("steps",e.steps)("payLoad",e.stepsForm.getRawValue().steps)}}function x(e,t){if(1&e&&b.Nb(0,"input",16),2&e){const e=b.bc().$implicit;b.hc("placeholder",e.placeholder),b.gc("formControlName",e.key)("id",e.key)("type",e.type)}}function N(e,t){if(1&e&&(b.Sb(0,"mat-option",19),b.qc(1),b.Rb()),2&e){const e=t.$implicit;b.gc("value",e.key),b.Bb(1),b.rc(e.value)}}function O(e,t){if(1&e&&(b.Sb(0,"mat-select",17),b.pc(1,N,2,2,"mat-option",18),b.Rb()),2&e){const e=b.bc().$implicit;b.hc("placeholder",e.placeholder),b.gc("id",e.key)("formControlName",e.key),b.Bb(1),b.gc("ngForOf",e.options)}}function P(e,t){if(1&e&&(b.Qb(0),b.Sb(1,"mat-form-field",11),b.Sb(2,"div",12),b.pc(3,x,1,4,"input",13),b.pc(4,O,2,4,"mat-select",14),b.Rb(),b.Sb(5,"mat-error"),b.Sb(6,"span",15),b.qc(7),b.Rb(),b.qc(8," is invalid!"),b.Rb(),b.Rb(),b.Pb()),2&e){const e=t.$implicit;b.Bb(2),b.gc("ngSwitch",e.controlType),b.Bb(1),b.gc("ngSwitchCase","textbox"),b.Bb(1),b.gc("ngSwitchCase","dropdown"),b.Bb(3),b.rc(e.key)}}function E(e,t){1&e&&(b.Sb(0,"button",20),b.qc(1,"Back"),b.Rb())}function $(e,t){1&e&&(b.Sb(0,"button",21),b.qc(1,"Next"),b.Rb())}function A(e,t){if(1&e){const e=b.Tb();b.Sb(0,"button",22),b.Zb("click",function(){return b.lc(e),b.bc(2).onSubmit}),b.qc(1,"Submit"),b.Rb()}}const G=function(e){return[e]};function V(e,t){if(1&e&&(b.Qb(0),b.Sb(1,"mat-step",3),b.pc(2,C,1,1,"ng-template",4),b.pc(3,R,2,1,"div",5),b.pc(4,L,1,2,"form-summary",6),b.pc(5,P,9,4,"ng-container",2),b.Nb(6,"br"),b.Sb(7,"div"),b.pc(8,E,2,0,"button",7),b.pc(9,$,2,0,"button",8),b.pc(10,A,2,0,"button",9),b.Rb(),b.Rb(),b.Pb()),2&e){const e=t.$implicit,n=t.index,o=b.bc();let r=null;b.Bb(1),b.gc("editable",e.isEditable)("formGroupName",n)("stepControl",null==(r=o.stepsForm.get("steps"))?null:r.get(b.ic(9,G,n))),b.Bb(2),b.gc("ngIf",e.text),b.Bb(1),b.gc("ngIf",n==o.steps.length-1),b.Bb(1),b.gc("ngForOf",o.steps[n].questions),b.Bb(3),b.gc("ngIf",0!==n||1!==n),b.Bb(1),b.gc("ngIf",n!==o.steps.length-1),b.Bb(1),b.gc("ngIf",n==o.steps.length-1)}}let T=(()=>{class e{constructor(e,t){this._formBuilder=e,this.qcs=t,this.steps=[],this.onFormValueChanges=new b.n,this.payLoad="",this.isLinear=!0}ngOnInit(){this.stepsForm=this._formBuilder.group({steps:this.qcs.toFormStepsArray(this.steps)}),this.onChanges()}onChanges(){this.stepsForm.valueChanges.subscribe(e=>{this.onFormValueChanges.emit(this.stepsForm.getRawValue())})}onSubmit(){this.payLoad=JSON.stringify(this.stepsForm.getRawValue())}}return e.\u0275fac=function(t){return new(t||e)(b.Mb(d.c),b.Mb(f))},e.\u0275cmp=b.Gb({type:e,selectors:[["app-dynamic-form"]],inputs:{steps:"steps"},outputs:{onFormValueChanges:"onFormValueChanges"},features:[b.Ab([f])],decls:3,vars:3,consts:[[3,"formGroup"],["labelPosition","bottom","formArrayName","steps",3,"linear"],[4,"ngFor","ngForOf"],[1,"mt-3",3,"editable","formGroupName","stepControl"],["class","mt-3","matStepLabel",""],[4,"ngIf"],[3,"steps","payLoad",4,"ngIf"],["mat-button","","matStepperPrevious","","type","button",4,"ngIf"],["mat-button","","matStepperNext","","type","button",4,"ngIf"],["mat-button","",3,"click",4,"ngIf"],[3,"steps","payLoad"],[1,"mr-3","mt-3"],[3,"ngSwitch"],["matInput","",3,"placeholder","formControlName","id","type",4,"ngSwitchCase"],["matInput","",3,"placeholder","id","formControlName",4,"ngSwitchCase"],[1,"text-capitalize"],["matInput","",3,"placeholder","formControlName","id","type"],["matInput","",3,"placeholder","id","formControlName"],[3,"value",4,"ngFor","ngForOf"],[3,"value"],["mat-button","","matStepperPrevious","","type","button"],["mat-button","","matStepperNext","","type","button"],["mat-button","",3,"click"]],template:function(e,t){1&e&&(b.Sb(0,"form",0),b.Sb(1,"mat-horizontal-stepper",1),b.pc(2,V,11,11,"ng-container",2),b.Rb(),b.Rb()),2&e&&(b.gc("formGroup",t.stepsForm),b.Bb(1),b.gc("linear",t.isLinear),b.Bb(1),b.gc("ngForOf",t.steps))},directives:[d.q,d.m,d.g,h.a,d.b,o.j,h.b,d.h,h.c,o.k,k,S.c,o.l,o.m,S.b,w.a,d.a,d.l,d.e,B.a,F.h,I.a,h.f,h.e],encapsulation:2}),e})();const M=[{path:"",component:(()=>{class e{constructor(e,t){this.service=e,this._formBuilder=t,this.isLinear=!0,this.steps$=e.getLoanStepsWithQuestions()}ngOnInit(){}handleChanges(e){}submit(){}}return e.\u0275fac=function(t){return new(t||e)(b.Mb(m),b.Mb(d.c))},e.\u0275cmp=b.Gb({type:e,selectors:[["app-loan-form"]],features:[b.Ab([{provide:i.h,useValue:{showError:!0}},m])],decls:4,vars:3,consts:[[1,"pt-3"],[3,"steps","onFormValueChanges"]],template:function(e,t){1&e&&(b.Sb(0,"h1",0),b.qc(1,"LOAN APPLICATION"),b.Rb(),b.Sb(2,"app-dynamic-form",1),b.Zb("onFormValueChanges",function(e){return t.handleChanges(e)}),b.cc(3,"async"),b.Rb()),2&e&&(b.Bb(2),b.gc("steps",b.dc(3,1,t.steps$)))},directives:[T],pipes:[o.b],styles:[""]}),e})()}];let j=(()=>{class e{}return e.\u0275fac=function(t){return new(t||e)},e.\u0275mod=b.Kb({type:e}),e.\u0275inj=b.Jb({imports:[[s.a.forChild(M)],s.a]}),e})(),Q=(()=>{class e{}return e.\u0275fac=function(t){return new(t||e)},e.\u0275mod=b.Kb({type:e}),e.\u0275inj=b.Jb({imports:[[o.c,r.a,j]]}),e})()}}]);